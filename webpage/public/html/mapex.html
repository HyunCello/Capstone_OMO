<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>간단한 지도 표시하기</title>
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <script src="../js/jquery-3.4.1.min.js"></script>
    <script type="text/javascript"
        src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=1bn280ccul"></script>
</head>

<body>
    <div id="map" style="width:100%;height:800px;"></div>

    <script>
        var map = new naver.maps.Map('map', {
            zoom: 19,
            center: new naver.maps.LatLng(37.297305, 126.836525),
            mapTypeId: naver.maps.MapTypeId.HYBRID,
        });

        var markerList = [];
        var menuLayer = $('<div style="position:absolute;z-index:10000;background-color:#fff;border:solid 1px #333;padding:10px;display:none;"></div>');

        map.getPanes().floatPane.appendChild(menuLayer[0]);


        naver.maps.Event.addListener(map, 'click', function (e) {
            var marker = new naver.maps.Marker({
                position: e.coord,
                map: map
            });

            markerList.push(marker);
        });

        naver.maps.Event.addListener(map, 'keydown', function (e) {
            var keyboardEvent = e.keyboardEvent,
                keyCode = keyboardEvent.keyCode || keyboardEvent.which;

            var ESC = 27;

            if (keyCode === ESC) {
                keyboardEvent.preventDefault();

                for (var i = 0, ii = markerList.length; i < ii; i++) {
                    markerList[i].setMap(null);
                }

                markerList = [];

                menuLayer.hide();
            }
        });

        naver.maps.Event.addListener(map, 'mousedown', function (e) {
            menuLayer.hide();
        });

        naver.maps.Event.addListener(map, 'rightclick', function (e) {
            var coordHtml =
                'Coord: ' + '(우 클릭 지점 위/경도 좌표)' + '<br />' +
                'Point: ' + e.point + '<br />' +
                'Offset: ' + e.offset;

            menuLayer.show().css({
                left: e.offset.x,
                top: e.offset.y
            }).html(coordHtml);

            console.log('Coord: ' + e.coord.toString());
        });

    </script>
</body>

</html>